<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FreeMAES</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="sec1/vision.html"><strong aria-hidden="true">1.</strong> Visión General</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="sec1/modelo_clases.html"><strong aria-hidden="true">1.1.</strong> Modelo de clases para FreeMAES</a></li></ol></li><li class="chapter-item expanded "><a href="sec2/api.html"><strong aria-hidden="true">2.</strong> API FreeMAES</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="sec2/agentes.html"><strong aria-hidden="true">2.1.</strong> Agentes</a></li><li class="chapter-item expanded "><a href="sec2/comportamientos.html"><strong aria-hidden="true">2.2.</strong> Comportamientos</a></li><li class="chapter-item expanded "><a href="sec2/mensajes.html"><strong aria-hidden="true">2.3.</strong> Mensajes</a></li><li class="chapter-item expanded "><a href="sec2/organizaciones.html"><strong aria-hidden="true">2.4.</strong> Organizaciones</a></li><li class="chapter-item expanded "><a href="sec2/plataforma.html"><strong aria-hidden="true">2.5.</strong> Plataforma</a></li><li class="chapter-item expanded "><a href="sec2/sysvars.html"><strong aria-hidden="true">2.6.</strong> sysVars</a></li></ol></li><li class="chapter-item expanded "><a href="sec3/estructura.html"><strong aria-hidden="true">3.</strong> Estructura Básica de un Programa</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="sec3/inclusiones.html"><strong aria-hidden="true">3.1.</strong> Inclusiones u definiciones</a></li><li class="chapter-item expanded "><a href="sec3/instanciacion.html"><strong aria-hidden="true">3.2.</strong> Instanciación de Condiciones, Agentes y Plataformas</a></li><li class="chapter-item expanded "><a href="sec3/derivacion_encapsulado.html"><strong aria-hidden="true">3.3.</strong> Derivación y Encapsulado de comportamientos</a></li><li class="chapter-item expanded "><a href="sec3/inicializacion.html"><strong aria-hidden="true">3.4.</strong> Inicialización de Tareas y Arranque de Plataforma</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="sec3/calendarizador.html"><strong aria-hidden="true">3.4.1.</strong> Arranque de Calendarizador</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="sec4/api.html"><strong aria-hidden="true">4.</strong> Desglose de Clases del API de FreeMAES</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">FreeMAES</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="visión-general"><a class="header" href="#visión-general">Visión General</a></h1>
<p>FreeMAES corresponde a una biblioteca que implementa el paradigma de software <strong>MAES</strong> (Multi-Agent Framework for Embedded Systems) para el sistema opeativo FreeRTOS. Opera como un complementao al sistema operativo para desarrollar aplicaciones con arquitectura basada en agentes. </p>
<p>Para realizar aplicaciones mediante la biblioteca FreeMAES primeramente hay que comprender los concptos relacionados con </p>
<ul>
<li>Sistemas multiagente</li>
<li>El modelo <strong>FIPA</strong> para software multiagente</li>
<li>El <strong>APU</strong> de <strong>FreeRTOS</strong></li>
</ul>
<p>En esta guía se omitiarán las explicaciones de componenetes ajenos al contenido de la biblioteca</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modelo-de-clases-para-freemaes"><a class="header" href="#modelo-de-clases-para-freemaes">Modelo de clases para FreeMAES</a></h1>
<h2 id="diagrama-del-modelo"><a class="header" href="#diagrama-del-modelo">Diagrama del modelo</a></h2>
<p><img src="sec1/modelo.jpg" alt="" /></p>
<p>Mediante las clases y relaciones mostradas en el diagrama, se puede notar que:</p>
<ul>
<li>Los agentes corresponden a contenedores de tareas mediante su comportamiento, que a su vez pueden incluir un sistema de mensajería que encapsula una cola dedicada por agente</li>
<li>Los agentes pueden asociarse por organizaciones designadas como equipos o jerarquías que pertenecen a una única plataforma de software conteida en el equipo electrónico. </li>
<li>La clase <code>sysVars</code> funciona como un arreglo de variables de entorno que soporta otras funciones del paradigma.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-freemaes"><a class="header" href="#api-freemaes">API FreeMAES</a></h1>
<p>A continuación, se desarrollan brevemente el propósito y capacidades de las clases que componene el API de FreeMAES. El desglose completo de métodos y estructuras de datos se encuentra al final.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agentes"><a class="header" href="#agentes">Agentes</a></h1>
<p>Los agentes se crean mediante el método constructor de la clase Agent. EL constructor de la clase solicita parámetros como el nombre del agente, la prioridad y la profundidad del stack (tal como se define en las tareas de FreeRTOS). Incluye un único método que retorna el identificador del agente (AID).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comportamientos"><a class="header" href="#comportamientos">Comportamientos</a></h1>
<h2 id="diagrama-del-funcionamiento-de-execute"><a class="header" href="#diagrama-del-funcionamiento-de-execute">Diagrama del funcionamiento de <code>execute</code></a></h2>
<p><img src="sec2/execute.jpg" alt="" /></p>
<h2 id=""><a class="header" href="#"></a></h2>
<p>Los comportamientos encapsulan las funciones de FreeRTOS que crean las tareas y buzones para los agentes. En este API se incluyen tres comportamientos com métodos virtuales: una clase genérica y dos subclases derivadas</p>
<ul>
<li>comportamiento cíclico</li>
<li>comportamiento <em>One Shot</em> (una sola ejecución)</li>
</ul>
<p>La principal diferencia entre las clases derivadas corresponde al método done, pues para el comportamiento cíclico siempre es verdadero y para el <em>One Shot</em> es falso.</p>
<p>El método <code>execute</code> asocia los métodos de cada clase y subclase como se muestra en el diagrama. Dicho método debe encerrarse con una función <em>wrapper</em> ára ser asignado como la función de tarea de un agente</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mensajes"><a class="header" href="#mensajes">Mensajes</a></h1>
<p>Los mensajes transportan la información entre agentes; son etiquetados con </p>
<ul>
<li>Tipo de mensaje</li>
<li>Destinarario</li>
<li>Remitente </li>
</ul>
<p>EL usuario directamente no debe crear cada mensaje pues están contenidos dentro de los comportamientos de cada agente. Cada agente posee un buzón (cola de FreeRTOS) con longitud unitaria. Para administrar la información de los mensajes el usuario debe usar los métodos de la clase <code>Agent_Message</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="organizaciones"><a class="header" href="#organizaciones">Organizaciones</a></h1>
<p>El constructor de la clase <code>Agent_Organization</code> requiere definir el tipo de organización <code>TEAM</code> (equipo) o <code>HEIRARCHY</code> (jerarquía). En un equipo la comunicación está limitada a los miembros del equipo sin demás restricciones mientras que en una jerarquía los mimebros solo pueden comunicarse con el moderador de su organización. La definición del dueño se ejecuta dentro del comportamiento del agente promocionado como dueño. Dicho agente puede enviar solicitudes mediante mensajes a otros agentes para unirse a la organización.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plataforma"><a class="header" href="#plataforma">Plataforma</a></h1>
<p>La clase <code>Agent_Platform</code> administra el registro e inicialización de los agentes, así como métodos misceláneos para el controla de tareas. Los métodos de la clase son todos públicos aunque están condicionados al agente (o mejor dicho tarea) que les convoque. Los métodos se pueden visualizar como</p>
<ul>
<li>Funciones pre-calendarizador</li>
<li>Funciones del Agente AMS</li>
<li>Funciones no restringidas. </li>
</ul>
<p>Las funciones pre-calendarizador inician los agentes y arrancan el registro de los objetos a las variables de entorno de la plataforma, para estas funcionar es necesario que ninguna tarea se esté ejecutando. Las funciones del Agente AMS corresponden a:</p>
<ul>
<li>Registros</li>
<li>Dadas de baja</li>
<li>Terminaciones</li>
<li>Suspensión</li>
<li>Reanudación de los agentes</li>
</ul>
<p>Finalmente, las funciones no restringidas producen demoras en las tareas (<em>Task Delays</em>), buscan agentes, descripciones y estados de agentes; entre otros.</p>
<p>El constructor de esta clas solo solicita un parámetro; el nombre para la plataforma, sin embargo, puede iniciarse además con un parámetro más que defina las condiciones del Agente AMS mediante la clase <code>USER_DEF_COND</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sysvars"><a class="header" href="#sysvars">sysVars</a></h1>
<p>Contenedor de variables de entorno, no debe ser usado por el usuario</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="estructura-básica-de-un-programa"><a class="header" href="#estructura-básica-de-un-programa">Estructura Básica de un Programa</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inclusiones-u-definiciones"><a class="header" href="#inclusiones-u-definiciones">Inclusiones u definiciones</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instanciación-de-condiciones-agentes-y-plataformas"><a class="header" href="#instanciación-de-condiciones-agentes-y-plataformas">Instanciación de Condiciones, Agentes y Plataformas</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="derivación-y-encapsulado-de-comportamientos"><a class="header" href="#derivación-y-encapsulado-de-comportamientos">Derivación y Encapsulado de comportamientos</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inicialización-de-tareas-y-arranque-de-plataforma"><a class="header" href="#inicialización-de-tareas-y-arranque-de-plataforma">Inicialización de Tareas y Arranque de Plataforma</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arranque-de-calendarizador"><a class="header" href="#arranque-de-calendarizador">Arranque de Calendarizador</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="desglose-de-clases-del-api-de-freemaes"><a class="header" href="#desglose-de-clases-del-api-de-freemaes">Desglose de Clases del API de FreeMAES</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

                <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
